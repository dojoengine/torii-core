// Generated by torii.js CLI
// Service: torii.Torii

import { BaseSinkClient, type CallOptions } from '@toriijs/sdk';

export class ToriiClient extends BaseSinkClient {

  /**
   * GetVersion - Unary RPC
   */
  async getVersion(
    request: Record<string, unknown> = {},
    options?: CallOptions
  ): Promise<Record<string, unknown>> {
    return this.unaryCall('/torii.Torii/GetVersion', request, options);
  }

  /**
   * ListTopics - Unary RPC
   */
  async listTopics(
    request: Record<string, unknown> = {},
    options?: CallOptions
  ): Promise<Record<string, unknown>> {
    return this.unaryCall('/torii.Torii/ListTopics', request, options);
  }

  /**
   * SubscribeToTopicsStream - Server streaming RPC
   */
  async *subscribeToTopicsStream(
    request: Record<string, unknown> = {},
    options?: CallOptions
  ): AsyncGenerator<Record<string, unknown>> {
    yield* this.streamCall('/torii.Torii/SubscribeToTopicsStream', request, options);
  }

  /**
   * SubscribeToTopicsStream with callbacks - Server streaming RPC
   */
  async subscribeToTopicsStreamWithCallbacks(
    request: Record<string, unknown>,
    onMessage: (message: Record<string, unknown>) => void,
    onError?: (error: Error) => void,
    onConnected?: () => void
  ): Promise<() => void> {
    return this.subscribeWithCallbacks('/torii.Torii/SubscribeToTopicsStream', request, onMessage, onError, onConnected);
  }

  /**
   * SubscribeToTopics - Bidirectional streaming RPC (not supported in gRPC-Web)
   */
  subscribeToTopics(): never {
    throw new Error('Bidirectional streaming not supported in gRPC-Web');
  }
}
